<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-8">
    <h1 class="text-3xl font-bold mb-6">‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏™‡∏†‡∏≤‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (Admin)</h1>
    
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <div class="bg-white p-6 rounded-xl shadow">
            <h2 class="text-xl font-bold text-red-600 mb-4">üö® ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤</h2>
            <div id="reportList" class="space-y-2"></div>
        </div>

        <div class="bg-white p-6 rounded-xl shadow">
            <h2 class="text-xl font-bold text-blue-600 mb-4">üéµ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡πÄ‡∏û‡∏•‡∏á</h2>
            <div id="songList" class="space-y-2"></div>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getFirestore, collection, onSnapshot, query, orderBy } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        const firebaseConfig = { /* ‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤ index */ };
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // ‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏°‡∏≤‡πÇ‡∏ä‡∏ß‡πå‡πÅ‡∏ö‡∏ö Real-time
        onSnapshot(query(collection(db, "reports"), orderBy("time", "desc")), (snapshot) => {
            const list = document.getElementById('reportList');
            list.innerHTML = "";
            snapshot.forEach(doc => {
                list.innerHTML += `<div class="p-3 bg-gray-50 border-b">${doc.data().detail}</div>`;
            });
        });

        // ‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡πÄ‡∏û‡∏•‡∏á‡∏°‡∏≤‡πÇ‡∏ä‡∏ß‡πå‡πÅ‡∏ö‡∏ö Real-time
        onSnapshot(query(collection(db, "song_requests"), orderBy("time", "desc")), (snapshot) => {
            const list = document.getElementById('songList');
            list.innerHTML = "";
            snapshot.forEach(doc => {
                list.innerHTML += `<div class="p-3 bg-gray-50 border-b">${doc.data().song}</div>`;
            });
        });
    </script>
</body>
</html>
