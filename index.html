<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏™‡∏†‡∏≤‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô NBY</title>
    <script src="https://cdn.tailwindcss.com"></script> </head>
<body class="bg-gray-50">

    <div id="banner" class="bg-blue-600 text-white p-10 text-center shadow-lg">
        <h1 id="site-title" class="text-4xl font-bold">‡∏™‡∏†‡∏≤‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô NBY</h1>
        <p id="site-subtitle" class="mt-2">‡∏£‡∏±‡∏ö‡∏ü‡∏±‡∏á‡∏ó‡∏∏‡∏Å‡∏õ‡∏±‡∏ç‡∏´‡∏≤ ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤</p>
    </div>

    <div class="max-w-4xl mx-auto p-6 space-y-8">
        <section class="bg-white p-6 rounded-2xl shadow-md border-l-8 border-red-500">
            <h2 class="text-2xl font-semibold mb-4 text-gray-800">üö© ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö</h2>
            <textarea id="reportInput" class="w-full p-4 border rounded-xl" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà..."></textarea>
            <button onclick="sendReport()" class="mt-3 bg-red-500 text-white px-6 py-2 rounded-full hover:bg-red-600 transition">‡∏™‡πà‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</button>
        </section>

        <section class="bg-white p-6 rounded-2xl shadow-md border-l-8 border-blue-500">
            <h2 class="text-2xl font-semibold mb-4 text-gray-800">üéµ ‡∏Ç‡∏≠‡πÄ‡∏û‡∏•‡∏á‡∏Ñ‡∏±‡πà‡∏ô‡πÄ‡∏ß‡∏•‡∏≤</h2>
            <input id="songInput" type="text" class="w-full p-4 border rounded-xl" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏•‡∏á - ‡∏ä‡∏∑‡πà‡∏≠‡∏®‡∏¥‡∏•‡∏õ‡∏¥‡∏ô">
            <button onclick="requestSong()" class="mt-3 bg-blue-500 text-white px-6 py-2 rounded-full hover:bg-blue-600 transition">‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÄ‡∏û‡∏•‡∏á</button>
        </section>

        <section class="bg-gradient-to-r from-purple-500 to-pink-500 p-8 rounded-2xl shadow-xl text-white text-center">
            <h2 class="text-3xl font-bold">‚ú® ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏≠‡∏∑‡πà‡∏ô‡πÜ</h2>
            <p class="mt-4 text-xl italic font-light">"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏°‡∏≤‡πÄ‡∏£‡πá‡∏ß‡πÜ ‡∏ô‡∏µ‡πâ ‡∏£‡∏≠‡∏•‡∏∏‡πâ‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£..."</p>
            <div class="mt-4 animate-bounce">üöÄ</div>
        </section>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getFirestore, collection, addDoc, doc, onSnapshot } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCe7iUd5wF9vh8wfbzcEgEkkTm9VLuRoDg",
            authDomain: "student-council-nby-2568.firebaseapp.com",
            projectId: "student-council-nby-2568",
            storageBucket: "student-council-nby-2568.firebasestorage.app",
            messagingSenderId: "784128111790",
            appId: "1:784128111790:web:ed28f5e40b07d5e914293f"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á‡πÄ‡∏ß‡πá‡∏ö‡∏à‡∏≤‡∏Å Firestore (CMS)
        onSnapshot(doc(db, "web_content", "settings"), (doc) => {
            if (doc.exists()) {
                const data = doc.data();
                document.getElementById('site-title').innerText = data.title;
                document.getElementById('banner').style.backgroundColor = data.themeColor;
            }
        });

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡πà‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô
        window.sendReport = async () => {
            const text = document.getElementById('reportInput').value;
            if(!text) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•");
            await addDoc(collection(db, "reports"), { detail: text, time: new Date() });
            alert("‡∏™‡πà‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß");
            document.getElementById('reportInput').value = "";
        };

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ç‡∏≠‡πÄ‡∏û‡∏•‡∏á
        window.requestSong = async () => {
            const text = document.getElementById('songInput').value;
            if(!text) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏•‡∏á");
            await addDoc(collection(db, "song_requests"), { song: text, time: new Date() });
            alert("‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÄ‡∏û‡∏•‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß");
            document.getElementById('songInput').value = "";
        };
    </script>
</body>
</html>
